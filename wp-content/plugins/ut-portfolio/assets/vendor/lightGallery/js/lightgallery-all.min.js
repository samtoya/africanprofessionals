
/*! lightgallery - v1.2.6 - 2015-10-07
* http://sachinchoolur.github.io/lightGallery/
* Copyright (c) 2015 Sachin N; Licensed Apache 2.0 */
(function(d,c,a,f){var e={mode:"lg-slide",cssEasing:"cubic-bezier(0.25, 0, 0.25, 1)",easing:"linear",speed:600,height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:150,hideBarsDelay:6000,useLeft:false,closable:true,loop:true,escKey:true,keyPress:true,controls:true,slideEndAnimatoin:true,hideControlOnEnd:false,mousewheel:true,appendSubHtmlTo:".lg-sub-html",preload:1,showAfterLoad:true,selector:"",nextHtml:"",prevHtml:"",index:false,iframeMaxWidth:"100%",download:true,counter:true,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:true,enableDrag:true,dynamic:false,dynamicEl:[],galleryId:1};function b(h,g){this.el=h;this.$el=d(h);this.s=d.extend({},e,g);this.modules={};this.lGalleryOn=false;this.lgBusy=false;this.hideBartimeout=false;this.isTouch=("ontouchstart" in a.documentElement);if(this.s.slideEndAnimatoin){this.s.hideControlOnEnd=false}if(this.s.dynamic){this.$items=this.s.dynamicEl}else{if(this.s.selector==="this"){this.$items=this.$el}else{if(this.s.selector!==""){this.$items=this.$el.find(d(this.s.selector))}else{this.$items=this.$el.children()}}}this.$slide="";this.$outer="";this.init();return this}b.prototype.init=function(){var h=this;if(h.s.preload>h.$items.length){h.s.preload=h.$items.length}var g=c.location.hash;if(g.indexOf("lg="+this.s.galleryId)>0){h.index=parseInt(g.split("&slide=")[1],10);d("body").addClass("lg-from-hash");if(!d("body").hasClass("lg-on")){setTimeout(function(){h.build(h.index);d("body").addClass("lg-on")})}}if(h.s.dynamic){h.$el.trigger("onBeforeOpen.lg");h.index=h.s.index||0;if(!d("body").hasClass("lg-on")){setTimeout(function(){h.build(h.index);d("body").addClass("lg-on")})}}else{h.$items.on("click.lgcustom",function(i){try{i.preventDefault();i.preventDefault()}catch(j){i.returnValue=false}h.$el.trigger("onBeforeOpen.lg");h.index=h.s.index||h.$items.index(this);if(!d("body").hasClass("lg-on")){h.build(h.index);d("body").addClass("lg-on")}})}};b.prototype.build=function(g){var h=this;h.structure();d.each(d.fn.lightGallery.modules,function(i){h.modules[i]=new d.fn.lightGallery.modules[i](h.el)});h.slide(g,false,false);if(h.s.keyPress){h.keyPress()}if(h.$items.length>1){h.arrow();setTimeout(function(){h.enableDrag();h.enableSwipe()},50);if(h.s.mousewheel){h.mousewheel()}}h.counter();h.closeGallery();h.$el.trigger("onAfterOpen.lg");h.$outer.on("mousemove.lg click.lg touchstart.lg",function(){h.$outer.removeClass("lg-hide-items");clearTimeout(h.hideBartimeout);h.hideBartimeout=setTimeout(function(){h.$outer.addClass("lg-hide-items")},h.s.hideBarsDelay)})};b.prototype.structure=function(){var l="";var g="";var h=0;var k="";var j;var n=this;d("body").append('<div class="lg-backdrop"></div>');d(".lg-backdrop").css("transition-duration",this.s.backdropDuration+"ms");for(h=0;h<this.$items.length;h++){l+='<div class="lg-item"></div>'}if(this.s.controls&&this.$items.length>1){g='<div class="lg-actions"><div class="lg-prev lg-icon">'+this.s.prevHtml+'</div><div class="lg-next lg-icon">'+this.s.nextHtml+"</div></div>"}if(this.s.appendSubHtmlTo===".lg-sub-html"){k='<div class="lg-sub-html"></div>'}j='<div class="lg-outer '+this.s.addClass+" "+this.s.startClass+'"><div class="lg" style="width:'+this.s.width+"; height:"+this.s.height+'"><div class="lg-inner">'+l+'</div><div class="lg-toolbar group"><span class="lg-close lg-icon"></span></div>'+g+k+"</div></div>";d("body").append(j);this.$outer=d(".lg-outer");this.$slide=this.$outer.find(".lg-item");if(this.s.useLeft){this.$outer.addClass("lg-use-left");this.s.mode="lg-slide"}else{this.$outer.addClass("lg-use-css3")}n.setTop();d(c).on("resize.lg orientationchange.lg",function(){setTimeout(function(){n.setTop()},100)});this.$slide.eq(this.index).addClass("lg-current");if(this.doCss()){this.$outer.addClass("lg-css3")}else{this.$outer.addClass("lg-css");this.s.speed=0}this.$outer.addClass(this.s.mode);if(this.s.enableDrag&&this.$items.length>1){this.$outer.addClass("lg-grab")}if(this.s.showAfterLoad){this.$outer.addClass("lg-show-after-load")}if(this.doCss()){var m=this.$outer.find(".lg-inner");m.css("transition-timing-function",this.s.cssEasing);m.css("transition-duration",this.s.speed+"ms")}d(".lg-backdrop").addClass("in");setTimeout(function(){n.$outer.addClass("lg-visible")},this.s.backdropDuration);if(this.s.download){this.$outer.find(".lg-toolbar").append('<a id="lg-download" target="_blank" download class="lg-download lg-icon"></a>')}this.prevScrollTop=d(c).scrollTop()};b.prototype.setTop=function(){if(this.s.height!=="100%"){var g=d(c).height();var i=(g-parseInt(this.s.height,10))/2;var h=this.$outer.find(".lg");if(g>=parseInt(this.s.height,10)){h.css("top",i+"px")}else{h.css("top","0px")}}};b.prototype.doCss=function(){var g=function(){var k=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"];var h=a.documentElement;var j=0;for(j=0;j<k.length;j++){if(k[j] in h.style){return true}}};if(g()){return true}return false};b.prototype.isVideo=function(l,h){var j;if(this.s.dynamic){j=this.s.dynamicEl[h].html}else{j=this.$items.eq(h).attr("data-html")}if(!l&&j){return{html5:true}}var i=l.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)/i);var g=l.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-_]+)/i);var k=l.match(/\/\/(?:www\.)?dai.ly\/([0-9a-z\-_]+)/i);if(i){return{youtube:i}}else{if(g){return{vimeo:g}}else{if(k){return{dailymotion:k}}}}};b.prototype.counter=function(){if(this.s.counter){d(this.s.appendCounterTo).append('<div id="lg-counter"><span id="lg-counter-current">'+(parseInt(this.index,10)+1)+'</span> / <span id="lg-counter-all">'+this.$items.length+"</span></div>")}};b.prototype.addHtml=function(g){var i=null;var j;if(this.s.dynamic){if(this.s.dynamicEl[g].subHtmlUrl){j=this.s.dynamicEl[g].subHtmlUrl}else{i=this.s.dynamicEl[g].subHtml}}else{if(this.$items.eq(g).attr("data-sub-html-url")){j=this.$items.eq(g).attr("data-sub-html-url")}else{i=this.$items.eq(g).attr("data-sub-html")}}if(!j){if(typeof i!=="undefined"&&i!==null){var h=i.substring(0,1);if(h==="."||h==="#"){i=d(i).html()}else{i=i}}else{i=""}}if(this.s.appendSubHtmlTo===".lg-sub-html"){if(j){this.$outer.find(this.s.appendSubHtmlTo).load(j)}else{this.$outer.find(this.s.appendSubHtmlTo).html(i)}}else{if(j){this.$slide.eq(g).load(j)}else{this.$slide.eq(g).append(i)}}if(typeof i!=="undefined"&&i!==null){if(i===""){this.$outer.find(this.s.appendSubHtmlTo).addClass("lg-empty-html")}else{this.$outer.find(this.s.appendSubHtmlTo).removeClass("lg-empty-html")}}this.$el.trigger("onAfterAppendSubHtml.lg",[g])};b.prototype.preload=function(h){var k=1;var g=1;for(k=1;k<=this.s.preload;k++){if(k>=this.$items.length-h){break}this.loadContent(h+k,false,0)}for(g=1;g<=this.s.preload;g++){if(h-g<0){break}this.loadContent(h-g,false,0)}};b.prototype.loadContent=function(j,k,w){var q=this;var s=false;var x;var n;var v;var i;var p;var h;var o=function(D){var y=[];var A=[];for(var C=0;C<D.length;C++){var E=D[C].split(" ");if(E[0]===""){E.splice(0,1)}A.push(E[0]);y.push(E[1])}var B=d(c).width();for(var z=0;z<y.length;z++){if(parseInt(y[z],10)>B){n=A[z];break}}};if(q.s.dynamic){if(q.s.dynamicEl[j].poster){s=true;v=q.s.dynamicEl[j].poster}h=q.s.dynamicEl[j].html;n=q.s.dynamicEl[j].src;if(q.s.dynamicEl[j].responsive){var u=q.s.dynamicEl[j].responsive.split(",");o(u)}i=q.s.dynamicEl[j].srcset;p=q.s.dynamicEl[j].sizes}else{if(q.$items.eq(j).attr("data-poster")){s=true;v=q.$items.eq(j).attr("data-poster")}h=q.$items.eq(j).attr("data-html");n=q.$items.eq(j).attr("href")||q.$items.eq(j).attr("data-src");if(q.$items.eq(j).attr("data-responsive")){var l=q.$items.eq(j).attr("data-responsive").split(",");o(l)}i=q.$items.eq(j).attr("data-srcset");p=q.$items.eq(j).attr("data-sizes")}var m=false;if(q.s.dynamic){if(q.s.dynamicEl[j].iframe){m=true}}else{if(q.$items.eq(j).attr("data-iframe")==="true"){m=true}}var r=q.isVideo(n,j);if(!q.$slide.eq(j).hasClass("lg-loaded")){if(m){q.$slide.eq(j).prepend('<div class="lg-video-cont" style="max-width:'+q.s.iframeMaxWidth+'"><div class="lg-video"><iframe class="lg-object" frameborder="0" src="'+n+'"  allowfullscreen="true"></iframe></div></div>')}else{if(s){var g="";if(r&&r.youtube){g="lg-has-youtube"}else{if(r&&r.vimeo){g="lg-has-vimeo"}else{g="lg-has-html5"}}q.$slide.eq(j).prepend('<div class="lg-video-cont '+g+' "><div class="lg-video"><span class="lg-video-play"></span><img class="lg-object lg-has-poster" src="'+v+'" /></div></div>')}else{if(r){q.$slide.eq(j).prepend('<div class="lg-video-cont "><div class="lg-video"></div></div>');q.$el.trigger("hasVideo.lg",[j,n,h])}else{q.$slide.eq(j).prepend('<div class="lg-img-wrap"><img class="lg-object lg-image" src="'+n+'" /></div>')}}}q.$el.trigger("onAferAppendSlide.lg",[j]);x=q.$slide.eq(j).find(".lg-object");if(p){x.attr("sizes",p)}if(i){x.attr("srcset",i);try{picturefill({elements:[x[0]]})}catch(t){console.error("Make sure you have included Picturefill version 2")}}if(this.s.appendSubHtmlTo!==".lg-sub-html"){q.addHtml(j)}q.$slide.eq(j).addClass("lg-loaded")}q.$slide.eq(j).find(".lg-object").on("load.lg error.lg",function(){var y=0;if(w&&!d("body").hasClass("lg-from-hash")){y=w}setTimeout(function(){q.$slide.eq(j).addClass("lg-complete");q.$el.trigger("onSlideItemLoad.lg",[j,w||0])},y)});if(r&&r.html5&&!s){q.$slide.eq(j).addClass("lg-complete")}if(k===true){if(!q.$slide.eq(j).hasClass("lg-complete")){q.$slide.eq(j).find(".lg-object").on("load.lg error.lg",function(){q.preload(j)})}else{q.preload(j)}}};b.prototype.slide=function(m,o,j){var k=this.$outer.find(".lg-current").index();var l=this;if(l.lGalleryOn&&(k===m)){return}var n=this.$slide.length;var r=l.lGalleryOn?this.s.speed:0;var h=false;var g=false;if(!l.lgBusy){this.$el.trigger("onBeforeSlide.lg",[k,m,o,j]);l.lgBusy=true;clearTimeout(l.hideBartimeout);if(this.s.appendSubHtmlTo===".lg-sub-html"){setTimeout(function(){l.addHtml(m)},r)}this.arrowDisable(m);if(!o){l.$outer.addClass("lg-no-trans");this.$slide.removeClass("lg-prev-slide lg-next-slide");if(m<k){g=true;if((m===0)&&(k===n-1)&&!j){g=false;h=true}}else{if(m>k){h=true;if((m===n-1)&&(k===0)&&!j){g=true;h=false}}}if(g){this.$slide.eq(m).addClass("lg-prev-slide");this.$slide.eq(k).addClass("lg-next-slide")}else{if(h){this.$slide.eq(m).addClass("lg-next-slide");this.$slide.eq(k).addClass("lg-prev-slide")}}setTimeout(function(){l.$slide.removeClass("lg-current");l.$slide.eq(m).addClass("lg-current");l.$outer.removeClass("lg-no-trans")},50)}else{var p=m-1;var q=m+1;if((m===0)&&(k===n-1)){q=0;p=n-1}else{if((m===n-1)&&(k===0)){q=0;p=n-1}}this.$slide.removeClass("lg-prev-slide lg-current lg-next-slide");l.$slide.eq(p).addClass("lg-prev-slide");l.$slide.eq(q).addClass("lg-next-slide");l.$slide.eq(m).addClass("lg-current")}if(l.lGalleryOn){setTimeout(function(){l.loadContent(m,true,0)},this.s.speed+50);setTimeout(function(){l.lgBusy=false;l.$el.trigger("onAfterSlide.lg",[k,m,o,j])},this.s.speed)}else{l.loadContent(m,true,l.s.backdropDuration);l.lgBusy=false;l.$el.trigger("onAfterSlide.lg",[k,m,o,j])}if(this.s.download){var i;if(l.s.dynamic){i=l.s.dynamicEl[m].downloadUrl||l.s.dynamicEl[m].src}else{i=l.$items.eq(m).attr("data-download-url")||l.$items.eq(m).attr("href")||l.$items.eq(m).attr("data-src")}d("#lg-download").attr("href",i)}l.lGalleryOn=true;if(this.s.counter){d("#lg-counter-current").text(m+1)}}};b.prototype.goToNextSlide=function(g){var h=this;if(!h.lgBusy){if((h.index+1)<h.$slide.length){h.index++;h.$el.trigger("onBeforeNextSlide.lg",[h.index]);h.slide(h.index,g,false)}else{if(h.s.loop){h.index=0;h.$el.trigger("onBeforeNextSlide.lg",[h.index]);h.slide(h.index,g,false)}else{if(h.s.slideEndAnimatoin){h.$outer.addClass("lg-right-end");setTimeout(function(){h.$outer.removeClass("lg-right-end")},400)}}}}};b.prototype.goToPrevSlide=function(g){var h=this;if(!h.lgBusy){if(h.index>0){h.index--;h.$el.trigger("onBeforePrevSlide.lg",[h.index,g]);h.slide(h.index,g,false)}else{if(h.s.loop){h.index=h.$items.length-1;h.$el.trigger("onBeforePrevSlide.lg",[h.index,g]);h.slide(h.index,g,false)}else{if(h.s.slideEndAnimatoin){h.$outer.addClass("lg-left-end");setTimeout(function(){h.$outer.removeClass("lg-left-end")},400)}}}}};b.prototype.keyPress=function(){var g=this;if(this.$items.length>1){d(c).on("keyup.lg",function(h){if(g.$items.length>1){if(h.keyCode===37){h.preventDefault();g.goToPrevSlide()}if(h.keyCode===39){h.preventDefault();g.goToNextSlide()}}})}d(c).on("keydown.lg",function(h){if(g.s.escKey===true&&h.keyCode===27){h.preventDefault();if(!g.$outer.hasClass("lg-thumb-open")){g.destroy()}else{g.$outer.removeClass("lg-thumb-open")}}})};b.prototype.arrow=function(){var g=this;this.$outer.find(".lg-prev").on("click.lg",function(){g.goToPrevSlide()});this.$outer.find(".lg-next").on("click.lg",function(){g.goToNextSlide()})};b.prototype.arrowDisable=function(g){if(!this.s.loop&&this.s.hideControlOnEnd){if((g+1)<this.$slide.length){this.$outer.find(".lg-next").removeAttr("disabled").removeClass("disabled")}else{this.$outer.find(".lg-next").attr("disabled","disabled").addClass("disabled")}if(g>0){this.$outer.find(".lg-prev").removeAttr("disabled").removeClass("disabled")}else{this.$outer.find(".lg-prev").attr("disabled","disabled").addClass("disabled")}}};b.prototype.setTranslate=function(h,i,g){if(this.s.useLeft){h.css("left",i)}else{h.css({transform:"translate3d("+(i)+"px, "+g+"px, 0px)"})}};b.prototype.touchMove=function(h,g){var i=g-h;this.$outer.addClass("lg-dragging");this.setTranslate(this.$slide.eq(this.index),i,0);this.setTranslate(d(".lg-prev-slide"),-this.$slide.eq(this.index).width()+i,0);this.setTranslate(d(".lg-next-slide"),this.$slide.eq(this.index).width()+i,0)};b.prototype.touchEnd=function(h){var g=this;if(g.s.mode!=="lg-slide"){g.$outer.addClass("lg-slide")}this.$slide.not(".lg-current, .lg-prev-slide, .lg-next-slide").css("opacity","0");setTimeout(function(){g.$outer.removeClass("lg-dragging");if((h<0)&&(Math.abs(h)>g.s.swipeThreshold)){g.goToNextSlide(true)}else{if((h>0)&&(Math.abs(h)>g.s.swipeThreshold)){g.goToPrevSlide(true)}else{if(Math.abs(h)<5){g.$el.trigger("onSlideClick.lg")}}}g.$slide.removeAttr("style")});setTimeout(function(){if(!g.$outer.hasClass("lg-dragging")&&g.s.mode!=="lg-slide"){g.$outer.removeClass("lg-slide")}},g.s.speed+100)};b.prototype.enableSwipe=function(){var j=this;var i=0;var g=0;var h=false;if(j.s.enableSwipe&&j.isTouch&&j.doCss()){j.$slide.on("touchstart.lg",function(k){if(!j.$outer.hasClass("lg-zoomed")&&!j.lgBusy){k.preventDefault();j.manageSwipeClass();i=k.originalEvent.targetTouches[0].pageX}});j.$slide.on("touchmove.lg",function(k){if(!j.$outer.hasClass("lg-zoomed")){k.preventDefault();g=k.originalEvent.targetTouches[0].pageX;j.touchMove(i,g);h=true}});j.$slide.on("touchend.lg",function(){if(!j.$outer.hasClass("lg-zoomed")){if(h){h=false;j.touchEnd(g-i)}else{j.$el.trigger("onSlideClick.lg")}}})}};b.prototype.enableDrag=function(){var k=this;var j=0;var h=0;var g=false;var i=false;if(k.s.enableDrag&&!k.isTouch&&k.doCss()){k.$slide.on("mousedown.lg",function(l){if(!k.$outer.hasClass("lg-zoomed")){if(d(l.target).hasClass("lg-object")||d(l.target).hasClass("lg-video-play")){l.preventDefault();if(!k.lgBusy){k.manageSwipeClass();j=l.pageX;g=true;k.$outer.scrollLeft+=1;k.$outer.scrollLeft-=1;k.$outer.removeClass("lg-grab").addClass("lg-grabbing");k.$el.trigger("onDragstart.lg")}}}});d(c).on("mousemove.lg",function(l){if(g){i=true;h=l.pageX;k.touchMove(j,h);k.$el.trigger("onDragmove.lg")}});d(c).on("mouseup.lg",function(l){if(i){i=false;k.touchEnd(h-j);k.$el.trigger("onDragend.lg")}else{if(d(l.target).hasClass("lg-object")||d(l.target).hasClass("lg-video-play")){k.$el.trigger("onSlideClick.lg")}}if(g){g=false;k.$outer.removeClass("lg-grabbing").addClass("lg-grab")}})}};b.prototype.manageSwipeClass=function(){var g=this.index+1;var h=this.index-1;var i=this.$slide.length;if(this.s.loop){if(this.index===0){h=i-1}else{if(this.index===i-1){g=0}}}this.$slide.removeClass("lg-next-slide lg-prev-slide");if(h>-1){this.$slide.eq(h).addClass("lg-prev-slide")}this.$slide.eq(g).addClass("lg-next-slide")};b.prototype.mousewheel=function(){var g=this;g.$outer.on("mousewheel.lg",function(h){if(!h.deltaY){return}if(h.deltaY>0){g.goToPrevSlide()}else{g.goToNextSlide()}h.preventDefault()})};b.prototype.closeGallery=function(){var h=this;var g=false;this.$outer.find(".lg-close").on("click.lg",function(){h.destroy()});if(h.s.closable){h.$outer.on("mousedown.lg",function(i){if(d(i.target).is(".lg-outer")||d(i.target).is(".lg-item ")||d(i.target).is(".lg-img-wrap")){g=true}else{g=false}});h.$outer.on("mouseup.lg",function(i){if(d(i.target).is(".lg-outer")||d(i.target).is(".lg-item ")||d(i.target).is(".lg-img-wrap")&&g){if(!h.$outer.hasClass("lg-dragging")){h.destroy()}}})}};b.prototype.destroy=function(g){var h=this;h.$el.trigger("onBeforeClose.lg");d(c).scrollTop(h.prevScrollTop);if(g){this.$items.off("click.lg click.lgcustom");d.removeData(h.el,"lightGallery")}this.$el.off(".lg.tm");d.each(d.fn.lightGallery.modules,function(i){if(h.modules[i]){h.modules[i].destroy()}});this.lGalleryOn=false;clearTimeout(h.hideBartimeout);this.hideBartimeout=false;d(c).off(".lg");d("body").removeClass("lg-on lg-from-hash");if(h.$outer){h.$outer.removeClass("lg-visible")}d(".lg-backdrop").removeClass("in");setTimeout(function(){if(h.$outer){h.$outer.remove()}d(".lg-backdrop").remove();h.$el.trigger("onCloseAfter.lg")},h.s.backdropDuration+50)};d.fn.lightGallery=function(g){return this.each(function(){if(!d.data(this,"lightGallery")){d.data(this,"lightGallery",new b(this,g))}else{try{d(this).data("lightGallery").init()}catch(h){console.error("lightGallery has not initiated properly")}}})};d.fn.lightGallery.modules={}})(jQuery,window,document);(function(c,b,a,f){var e={autoplay:false,pause:5000,progressBar:true,fourceAutoplay:false,autoplayControls:true,appendAutoplayControlsTo:".lg-toolbar"};var d=function(g){this.core=c(g).data("lightGallery");this.$el=c(g);if(this.core.$items.length<2){return false}this.core.s=c.extend({},e,this.core.s);this.interval=false;this.fromAuto=true;this.canceledOnTouch=false;this.fourceAutoplayTemp=this.core.s.fourceAutoplay;if(!this.core.doCss()){this.core.s.progressBar=false}this.init();return this};d.prototype.init=function(){var g=this;if(g.core.s.autoplayControls){g.controls()}if(g.core.s.progressBar){g.core.$outer.find(".lg").append('<div class="lg-progress-bar"><div class="lg-progress"></div></div>')}g.progress();if(g.core.s.autoplay){g.startlAuto()}g.$el.on("onDragstart.lg.tm touchstart.lg.tm",function(){if(g.interval){g.cancelAuto();g.canceledOnTouch=true}});g.$el.on("onDragend.lg.tm touchend.lg.tm onSlideClick.lg.tm",function(){if(!g.interval&&g.canceledOnTouch){g.startlAuto();g.canceledOnTouch=false}})};d.prototype.progress=function(){var i=this;var h;var g;i.$el.on("onBeforeSlide.lg.tm",function(){if(i.core.s.progressBar&&i.fromAuto){h=i.core.$outer.find(".lg-progress-bar");g=i.core.$outer.find(".lg-progress");if(i.interval){g.removeAttr("style");h.removeClass("lg-start");setTimeout(function(){g.css("transition","width "+(i.core.s.speed+i.core.s.pause)+"ms ease 0s");h.addClass("lg-start")},20)}}if(!i.fromAuto&&!i.core.s.fourceAutoplay){i.cancelAuto()}i.fromAuto=false})};d.prototype.controls=function(){var h=this;var g='<span class="lg-autoplay-button lg-icon"></span>';c(this.core.s.appendAutoplayControlsTo).append(g);h.core.$outer.find(".lg-autoplay-button").on("click.lg",function(){if(c(h.core.$outer).hasClass("lg-show-autoplay")){h.cancelAuto();h.core.s.fourceAutoplay=false}else{if(!h.interval){h.startlAuto();h.core.s.fourceAutoplay=h.fourceAutoplayTemp}}})};d.prototype.startlAuto=function(){var g=this;g.core.$outer.find(".lg-progress").css("transition","width "+(g.core.s.speed+g.core.s.pause)+"ms ease 0s");g.core.$outer.addClass("lg-show-autoplay");g.core.$outer.find(".lg-progress-bar").addClass("lg-start");g.interval=setInterval(function(){if(g.core.index+1<g.core.$items.length){g.core.index=g.core.index}else{g.core.index=-1}g.core.index++;g.fromAuto=true;g.core.slide(g.core.index,false,false)},g.core.s.speed+g.core.s.pause)};d.prototype.cancelAuto=function(){clearInterval(this.interval);this.interval=false;this.core.$outer.find(".lg-progress").removeAttr("style");this.core.$outer.removeClass("lg-show-autoplay");this.core.$outer.find(".lg-progress-bar").removeClass("lg-start")};d.prototype.destroy=function(){this.cancelAuto();this.core.$outer.find(".lg-progress-bar").remove()};c.fn.lightGallery.modules.autoplay=d})(jQuery,window,document);(function(d,c,a,f){var e={fullScreen:true};var b=function(g){this.core=d(g).data("lightGallery");this.$el=d(g);this.core.s=d.extend({},e,this.core.s);this.init();return this};b.prototype.init=function(){var g="";if(this.core.s.fullScreen){if(!a.fullscreenEnabled&&!a.webkitFullscreenEnabled&&!a.mozFullScreenEnabled&&!a.msFullscreenEnabled){return}else{g='<span class="lg-fullscreen lg-icon"></span>';this.core.$outer.find(".lg-toolbar").append(g);this.fullScreen()}}};b.prototype.reuestFullscreen=function(){var g=a.documentElement;if(g.requestFullscreen){g.requestFullscreen()}else{if(g.msRequestFullscreen){g.msRequestFullscreen()}else{if(g.mozRequestFullScreen){g.mozRequestFullScreen()}else{if(g.webkitRequestFullscreen){g.webkitRequestFullscreen()}}}}};b.prototype.exitFullscreen=function(){if(a.exitFullscreen){a.exitFullscreen()}else{if(a.msExitFullscreen){a.msExitFullscreen()}else{if(a.mozCancelFullScreen){a.mozCancelFullScreen()}else{if(a.webkitExitFullscreen){a.webkitExitFullscreen()}}}}};b.prototype.fullScreen=function(){var g=this;d(a).on("fullscreenchange.lg webkitfullscreenchange.lg mozfullscreenchange.lg MSFullscreenChange.lg",function(){g.core.$outer.toggleClass("lg-fullscreen-on")});this.core.$outer.find(".lg-fullscreen").on("click.lg",function(){if(!a.fullscreenElement&&!a.mozFullScreenElement&&!a.webkitFullscreenElement&&!a.msFullscreenElement){g.reuestFullscreen()}else{g.exitFullscreen()}})};b.prototype.destroy=function(){this.exitFullscreen();d(a).off("fullscreenchange.lg webkitfullscreenchange.lg mozfullscreenchange.lg MSFullscreenChange.lg")};d.fn.lightGallery.modules.fullscreen=b})(jQuery,window,document);(function(d,b,a,f){var e={pager:false};var c=function(g){this.core=d(g).data("lightGallery");this.$el=d(g);this.core.s=d.extend({},e,this.core.s);if(this.core.s.pager&&this.core.$items.length>1){this.init()}return this};c.prototype.init=function(){var m=this;var k="";var l;var g;var j;m.core.$outer.find(".lg").append('<div class="lg-pager-outer"></div>');if(m.core.s.dynamic){for(var h=0;h<m.core.s.dynamicEl.length;h++){k+='<span class="lg-pager-cont"> <span class="lg-pager"></span><div class="lg-pager-thumb-cont"><span class="lg-caret"></span> <img src="'+m.core.s.dynamicEl[h].thumb+'" /></div></span>'}}else{m.core.$items.each(function(){if(!m.core.s.exThumbImage){k+='<span class="lg-pager-cont"> <span class="lg-pager"></span><div class="lg-pager-thumb-cont"><span class="lg-caret"></span> <img src="'+d(this).find("img").attr("src")+'" /></div></span>'}else{k+='<span class="lg-pager-cont"> <span class="lg-pager"></span><div class="lg-pager-thumb-cont"><span class="lg-caret"></span> <img src="'+d(this).attr(m.core.s.exThumbImage)+'" /></div></span>'}})}g=m.core.$outer.find(".lg-pager-outer");g.html(k);l=m.core.$outer.find(".lg-pager-cont");l.on("click.lg touchend.lg",function(){var i=d(this);m.core.index=i.index();m.core.slide(m.core.index,false,false)});g.on("mouseover.lg",function(){clearTimeout(j);g.addClass("lg-pager-hover")});g.on("mouseout.lg",function(){j=setTimeout(function(){g.removeClass("lg-pager-hover")})});m.core.$el.on("onBeforeSlide.lg.tm",function(o,n,i){l.removeClass("lg-pager-active");l.eq(i).addClass("lg-pager-active")})};c.prototype.destroy=function(){};d.fn.lightGallery.modules.pager=c})(jQuery,window,document);(function(c,b,a,e){var d={thumbnail:true,animateThumb:true,currentPagerPosition:"middle",thumbWidth:100,thumbContHeight:100,thumbMargin:5,exThumbImage:false,showThumbByDefault:true,toogleThumb:true,pullCaptionUp:true,enableThumbDrag:true,enableThumbSwipe:true,swipeThreshold:50,loadYoutubeThumbnail:true,youtubeThumbSize:1,loadVimeoThumbnail:true,vimeoThumbSize:"thumbnail_small",loadDailymotionThumbnail:true};var f=function(g){this.core=c(g).data("lightGallery");this.core.s=c.extend({},d,this.core.s);this.$el=c(g);this.$thumbOuter=null;this.thumbOuterWidth=0;this.thumbTotalWidth=(this.core.$items.length*(this.core.s.thumbWidth+this.core.s.thumbMargin));this.thumbIndex=this.core.index;this.left=0;this.init();return this};f.prototype.init=function(){if(this.core.s.thumbnail&&this.core.$items.length>1){if(this.core.s.showThumbByDefault){this.core.$outer.addClass("lg-thumb-open")}if(this.core.s.pullCaptionUp){this.core.$outer.addClass("lg-pull-caption-up")}this.build();if(this.core.s.animateThumb){if(this.core.s.enableThumbDrag&&!this.core.isTouch&&this.core.doCss()){this.enableThumbDrag()}if(this.core.s.enableThumbSwipe&&this.core.isTouch&&this.core.doCss()){this.enableThumbSwipe()}this.thumbClickable=false}else{this.thumbClickable=true}this.toogle();this.thumbkeyPress()}};f.prototype.build=function(){var n=this;var k="";var g="";var m;var j='<div class="lg-thumb-outer"><div class="lg-thumb group"></div></div>';switch(this.core.s.vimeoThumbSize){case"thumbnail_large":g="640";break;case"thumbnail_medium":g="200x150";break;case"thumbnail_small":g="100x75"}n.core.$outer.addClass("lg-has-thumb");n.core.$outer.find(".lg").append(j);n.$thumbOuter=n.core.$outer.find(".lg-thumb-outer");n.thumbOuterWidth=n.$thumbOuter.width();if(n.core.s.animateThumb){n.core.$outer.find(".lg-thumb").css({width:n.thumbTotalWidth+"px",position:"relative"})}if(this.core.s.animateThumb){n.$thumbOuter.css("height",n.core.s.thumbContHeight+"px")}function l(s,i,o){var q=n.core.isVideo(s,o)||{};var r;var p="";if(q.youtube||q.vimeo||q.dailymotion){if(q.youtube){if(n.core.s.loadYoutubeThumbnail){r="//img.youtube.com/vi/"+q.youtube[1]+"/"+n.core.s.youtubeThumbSize+".jpg"}else{r=i}}else{if(q.vimeo){if(n.core.s.loadVimeoThumbnail){r="//i.vimeocdn.com/video/error_"+g+".jpg";p=q.vimeo[1]}else{r=i}}else{if(q.dailymotion){if(n.core.s.loadDailymotionThumbnail){r="//www.dailymotion.com/thumbnail/video/"+q.dailymotion[1]}else{r=i}}}}}else{r=i}k+='<div data-vimeo-id="'+p+'" class="lg-thumb-item" style="width:'+n.core.s.thumbWidth+"px; margin-right: "+n.core.s.thumbMargin+'px"><img src="'+r+'" /></div>';p=""}if(n.core.s.dynamic){for(var h=0;h<n.core.s.dynamicEl.length;h++){l(n.core.s.dynamicEl[h].src,n.core.s.dynamicEl[h].thumb,h)}}else{n.core.$items.each(function(o){if(!n.core.s.exThumbImage){l(c(this).attr("href")||c(this).attr("data-src"),c(this).find("img").attr("src"),o)}else{l(c(this).attr("href")||c(this).attr("data-src"),c(this).attr(n.core.s.exThumbImage),o)}})}n.core.$outer.find(".lg-thumb").html(k);m=n.core.$outer.find(".lg-thumb-item");m.each(function(){var o=c(this);var i=o.attr("data-vimeo-id");if(i){c.getJSON("http://www.vimeo.com/api/v2/video/"+i+".json?callback=?",{format:"json"},function(p){o.find("img").attr("src",p[0][n.core.s.vimeoThumbSize])})}});m.eq(n.core.index).addClass("active");n.core.$el.on("onBeforeSlide.lg.tm",function(){m.removeClass("active");m.eq(n.core.index).addClass("active")});m.on("click.lg touchend.lg",function(){var i=c(this);setTimeout(function(){if((n.thumbClickable&&!n.core.lgBusy)||!n.core.doCss()){n.core.index=i.index();n.core.slide(n.core.index,false,true)}},50)});n.core.$el.on("onBeforeSlide.lg.tm",function(){n.animateThumb(n.core.index)});c(b).on("resize.lg.thumb orientationchange.lg.thumb",function(){setTimeout(function(){n.animateThumb(n.core.index);n.thumbOuterWidth=n.$thumbOuter.width()},200)})};f.prototype.setTranslate=function(g){this.core.$outer.find(".lg-thumb").css({transform:"translate3d(-"+(g)+"px, 0px, 0px)"})};f.prototype.animateThumb=function(h){var i=this.core.$outer.find(".lg-thumb");if(this.core.s.animateThumb){var g;switch(this.core.s.currentPagerPosition){case"left":g=0;break;case"middle":g=(this.thumbOuterWidth/2)-(this.core.s.thumbWidth/2);break;case"right":g=this.thumbOuterWidth-this.core.s.thumbWidth}this.left=((this.core.s.thumbWidth+this.core.s.thumbMargin)*h-1)-g;if(this.left>(this.thumbTotalWidth-this.thumbOuterWidth)){this.left=this.thumbTotalWidth-this.thumbOuterWidth}if(this.left<0){this.left=0}if(this.core.lGalleryOn){if(!i.hasClass("on")){this.core.$outer.find(".lg-thumb").css("transition-duration",this.core.s.speed+"ms")}if(!this.core.doCss()){i.animate({left:-this.left+"px"},this.core.s.speed)}}else{if(!this.core.doCss()){i.css("left",-this.left+"px")}}this.setTranslate(this.left)}};f.prototype.enableThumbDrag=function(){var l=this;var j=0;var h=0;var g=false;var i=false;var k=0;l.$thumbOuter.addClass("lg-grab");l.core.$outer.find(".lg-thumb").on("mousedown.lg.thumb",function(m){if(l.thumbTotalWidth>l.thumbOuterWidth){m.preventDefault();j=m.pageX;g=true;l.core.$outer.scrollLeft+=1;l.core.$outer.scrollLeft-=1;l.thumbClickable=false;l.$thumbOuter.removeClass("lg-grab").addClass("lg-grabbing")}});c(b).on("mousemove.lg.thumb",function(m){if(g){k=l.left;i=true;h=m.pageX;l.$thumbOuter.addClass("lg-dragging");k=k-(h-j);if(k>(l.thumbTotalWidth-l.thumbOuterWidth)){k=l.thumbTotalWidth-l.thumbOuterWidth}if(k<0){k=0}l.setTranslate(k)}});c(b).on("mouseup.lg.thumb",function(){if(i){i=false;l.$thumbOuter.removeClass("lg-dragging");l.left=k;if(Math.abs(h-j)<l.core.s.swipeThreshold){l.thumbClickable=true}}else{l.thumbClickable=true}if(g){g=false;l.$thumbOuter.removeClass("lg-grabbing").addClass("lg-grab")}})};f.prototype.enableThumbSwipe=function(){var k=this;var i=0;var g=0;var h=false;var j=0;k.core.$outer.find(".lg-thumb").on("touchstart.lg",function(l){if(k.thumbTotalWidth>k.thumbOuterWidth){l.preventDefault();i=l.originalEvent.targetTouches[0].pageX;k.thumbClickable=false}});k.core.$outer.find(".lg-thumb").on("touchmove.lg",function(l){if(k.thumbTotalWidth>k.thumbOuterWidth){l.preventDefault();g=l.originalEvent.targetTouches[0].pageX;h=true;k.$thumbOuter.addClass("lg-dragging");j=k.left;j=j-(g-i);if(j>(k.thumbTotalWidth-k.thumbOuterWidth)){j=k.thumbTotalWidth-k.thumbOuterWidth}if(j<0){j=0}k.setTranslate(j)}});k.core.$outer.find(".lg-thumb").on("touchend.lg",function(){if(k.thumbTotalWidth>k.thumbOuterWidth){if(h){h=false;k.$thumbOuter.removeClass("lg-dragging");if(Math.abs(g-i)<k.core.s.swipeThreshold){k.thumbClickable=true}k.left=j}else{k.thumbClickable=true}}else{k.thumbClickable=true}})};f.prototype.toogle=function(){var g=this;if(g.core.s.toogleThumb){g.core.$outer.addClass("lg-can-toggle");g.$thumbOuter.append('<span class="lg-toogle-thumb lg-icon"></span>');g.core.$outer.find(".lg-toogle-thumb").on("click.lg",function(){g.core.$outer.toggleClass("lg-thumb-open")})}};f.prototype.thumbkeyPress=function(){var g=this;c(b).on("keydown.lg.thumb",function(h){if(h.keyCode===38){h.preventDefault();g.core.$outer.addClass("lg-thumb-open")}else{if(h.keyCode===40){h.preventDefault();g.core.$outer.removeClass("lg-thumb-open")}}})};f.prototype.destroy=function(){if(this.core.s.thumbnail&&this.core.$items.length>1){c(b).off("resize.lg.thumb orientationchange.lg.thumb keydown.lg.thumb");this.$thumbOuter.remove();this.core.$outer.removeClass("lg-has-thumb")}};c.fn.lightGallery.modules.Thumbnail=f})(jQuery,window,document);(function(d,c,a,f){var e={videoMaxWidth:"855px",youtubePlayerParams:false,vimeoPlayerParams:false,dailymotionPlayerParams:false,videojs:false};var b=function(g){this.core=d(g).data("lightGallery");this.$el=d(g);this.core.s=d.extend({},e,this.core.s);this.videoLoaded=false;this.init();return this};b.prototype.init=function(){var h=this;h.core.$el.on("hasVideo.lg.tm",function(k,i,m,j){h.core.$slide.eq(i).find(".lg-video").append(h.loadVideo(m,"lg-object",true,i,j));if(j){if(h.core.s.videojs){try{videojs(h.core.$slide.eq(i).find(".lg-html5").get(0),{},function(){if(!h.videoLoaded){this.play()}})}catch(l){console.error("Make sure you have included videojs")}}else{h.core.$slide.eq(i).find(".lg-html5").get(0).play()}}});h.core.$el.on("onAferAppendSlide.lg.tm",function(j,i){h.core.$slide.eq(i).find(".lg-video-cont").css("max-width",h.core.s.videoMaxWidth);h.videoLoaded=true});var g=function(r){if(r.find(".lg-object").hasClass("lg-has-poster")){if(!r.hasClass("lg-has-video")){r.addClass("lg-video-palying lg-has-video");var m;var l;var q=function(u,s){r.find(".lg-video").append(h.loadVideo(u,"",false,h.core.index,s));if(s){if(h.core.s.videojs){try{videojs(h.core.$slide.eq(h.core.index).find(".lg-html5").get(0),{},function(){this.play()})}catch(t){console.error("Make sure you have included videojs")}}else{h.core.$slide.eq(h.core.index).find(".lg-html5").get(0).play()}}};if(h.core.s.dynamic){m=h.core.s.dynamicEl[h.core.index].src;l=h.core.s.dynamicEl[h.core.index].html;q(m,l)}else{m=h.core.$items.eq(h.core.index).attr("href")||h.core.$items.eq(h.core.index).attr("data-src");l=h.core.$items.eq(h.core.index).attr("data-html");q(m,l)}var k=r.find(".lg-object");r.find(".lg-video").append(k);if(!r.find(".lg-video-object").hasClass("lg-html5")){r.removeClass("lg-complete");r.find(".lg-video-object").on("load.lg error.lg",function(){r.addClass("lg-complete")})}}else{var p=r.find(".lg-youtube").get(0);var n=r.find(".lg-vimeo").get(0);var j=r.find(".lg-dailymotion").get(0);var i=r.find(".lg-html5").get(0);if(p){p.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*")}else{if(n){try{$f(n).api("play")}catch(o){console.error("Make sure you have included froogaloop2 js")}}else{if(j){j.contentWindow.postMessage("play","*")}else{if(i){if(h.core.s.videojs){try{videojs(i).play()}catch(o){console.error("Make sure you have included videojs")}}else{i.play()}}}}}r.addClass("lg-video-palying")}}};if(h.core.doCss()&&h.core.$items.length>1&&((h.core.s.enableSwipe&&h.core.isTouch)||(h.core.s.enableDrag&&!h.core.isTouch))){h.core.$el.on("onSlideClick.lg.tm",function(){var i=h.core.$slide.eq(h.core.index);g(i)})}else{h.core.$slide.on("click.lg",function(){g(d(this))})}h.core.$el.on("onBeforeSlide.lg.tm",function(n,k){var j=h.core.$slide.eq(k);var i=j.find(".lg-youtube").get(0);var p=j.find(".lg-vimeo").get(0);var m=j.find(".lg-dailymotion").get(0);var l=j.find(".lg-html5").get(0);if(i){i.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}else{if(p){try{$f(p).api("pause")}catch(o){console.error("Make sure you have included froogaloop2 js")}}else{if(m){m.contentWindow.postMessage("pause","*")}else{if(l){if(h.core.s.videojs){try{videojs(l).pause()}catch(o){console.error("Make sure you have included videojs")}}else{l.pause()}}}}}});h.core.$el.on("onAfterSlide.lg.tm",function(j,i){h.core.$slide.eq(i).removeClass("lg-video-palying")})};b.prototype.loadVideo=function(h,o,l,n,m){var i="";var k=1;var p="";var g=this.core.isVideo(h,n)||{};if(l){if(this.videoLoaded){k=0}else{k=1}}if(g.youtube){p="?wmode=opaque&autoplay="+k+"&enablejsapi=1";if(this.core.s.youtubePlayerParams){p=p+"&"+d.param(this.core.s.youtubePlayerParams)}i='<iframe class="lg-video-object lg-youtube '+o+'" width="560" height="315" src="//www.youtube.com/embed/'+g.youtube[1]+p+'" frameborder="0" allowfullscreen></iframe>'}else{if(g.vimeo){p="?autoplay="+k+"&api=1";if(this.core.s.vimeoPlayerParams){p=p+"&"+d.param(this.core.s.vimeoPlayerParams)}i='<iframe class="lg-video-object lg-vimeo '+o+'" width="560" height="315"  src="http://player.vimeo.com/video/'+g.vimeo[1]+p+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'}else{if(g.dailymotion){p="?wmode=opaque&autoplay="+k+"&api=postMessage";if(this.core.s.dailymotionPlayerParams){p=p+"&"+d.param(this.core.s.dailymotionPlayerParams)}i='<iframe class="lg-video-object lg-dailymotion '+o+'" width="560" height="315" src="//www.dailymotion.com/embed/video/'+g.dailymotion[1]+p+'" frameborder="0" allowfullscreen></iframe>'}else{if(g.html5){var j=m.substring(0,1);if(j==="."||j==="#"){m=d(m).html()}i=m}}}}return i};b.prototype.destroy=function(){this.videoLoaded=false};d.fn.lightGallery.modules.video=b})(jQuery,window,document);(function(d,c,a,f){var e={scale:1,zoom:true,enableZoomAfter:300};var b=function(g){this.core=d(g).data("lightGallery");this.core.s=d.extend({},e,this.core.s);if(this.core.s.zoom&&this.core.doCss()){this.init();this.zoomabletimeout=false;this.pageX=d(c).width()/2;this.pageY=(d(c).height()/2)+d(c).scrollTop()}return this};b.prototype.init=function(){var k=this;var h='<span id="lg-zoom-in" class="lg-icon"></span><span id="lg-zoom-out" class="lg-icon"></span>';this.core.$outer.find(".lg-toolbar").append(h);k.core.$el.on("onSlideItemLoad.lg.tm.zoom",function(o,n,m){var l=k.core.s.enableZoomAfter+m;if(d("body").hasClass("lg-from-hash")&&m){l=0}else{d("body").removeClass("lg-from-hash")}k.zoomabletimeout=setTimeout(function(){k.core.$slide.eq(n).addClass("lg-zoomable")},l+30)});var j=1;var i=function(q){var p=k.core.$outer.find(".lg-current .lg-image");var o;var n;var m=(d(c).width()-p.width())/2;var s=((d(c).height()-p.height())/2)+d(c).scrollTop();o=k.pageX-m;n=k.pageY-s;var l=(q-1)*(o);var r=(q-1)*(n);p.css("transform","scale3d("+q+", "+q+", 1)").attr("data-scale",q);p.parent().css("transform","translate3d(-"+l+"px, -"+r+"px, 0)").attr("data-x",l).attr("data-y",r)};var g=function(){if(j>1){k.core.$outer.addClass("lg-zoomed")}else{k.resetZoom()}if(j<1){j=1}i(j)};k.core.$el.on("onAferAppendSlide.lg.tm.zoom",function(n,l){var m=k.core.$slide.eq(l).find(".lg-image");m.dblclick(function(r){var p=m.width();var o=k.core.$items.eq(l).attr("data-width")||m[0].naturalWidth||p;var q;if(k.core.$outer.hasClass("lg-zoomed")){j=1}else{if(o>p){q=o/p;j=q||2}}k.pageX=r.pageX;k.pageY=r.pageY;g();setTimeout(function(){k.core.$outer.removeClass("lg-grabbing").addClass("lg-grab")},10)})});d(c).on("resize.lg.zoom scroll.lg.zoom orientationchange.lg.zoom",function(){k.pageX=d(c).width()/2;k.pageY=(d(c).height()/2)+d(c).scrollTop();i(j)});d("#lg-zoom-out").on("click.lg",function(){if(k.core.$outer.find(".lg-current .lg-image").length){j-=k.core.s.scale;g()}});d("#lg-zoom-in").on("click.lg",function(){if(k.core.$outer.find(".lg-current .lg-image").length){j+=k.core.s.scale;g()}});k.core.$el.on("onBeforeSlide.lg.tm",function(){k.resetZoom()});if(!k.core.isTouch){k.zoomDrag()}if(k.core.isTouch){k.zoomSwipe()}};b.prototype.resetZoom=function(){this.core.$outer.removeClass("lg-zoomed");this.core.$slide.find(".lg-img-wrap").removeAttr("style data-x data-y");this.core.$slide.find(".lg-image").removeAttr("style data-scale");this.pageX=d(c).width()/2;this.pageY=(d(c).height()/2)+d(c).scrollTop()};b.prototype.zoomSwipe=function(){var l=this;var j={};var h={};var i=false;var g=false;var k=false;l.core.$slide.on("touchstart.lg",function(n){if(l.core.$outer.hasClass("lg-zoomed")){var m=l.core.$slide.eq(l.core.index).find(".lg-object");k=m.outerHeight()*m.attr("data-scale")>l.core.$outer.find(".lg").height();g=m.outerWidth()*m.attr("data-scale")>l.core.$outer.find(".lg").width();if((g||k)){n.preventDefault();j={x:n.originalEvent.targetTouches[0].pageX,y:n.originalEvent.targetTouches[0].pageY}}}});l.core.$slide.on("touchmove.lg",function(p){if(l.core.$outer.hasClass("lg-zoomed")){var m=l.core.$slide.eq(l.core.index).find(".lg-img-wrap");var o;var n;p.preventDefault();i=true;h=p.originalEvent.targetTouches[0].pageX;h={x:p.originalEvent.targetTouches[0].pageX,y:p.originalEvent.targetTouches[0].pageY};l.core.$outer.addClass("lg-zoom-dragging");if(k){n=(-Math.abs(m.attr("data-y")))+(h.y-j.y)}else{n=-Math.abs(m.attr("data-y"))}if(g){o=(-Math.abs(m.attr("data-x")))+(h.x-j.x)}else{o=-Math.abs(m.attr("data-x"))}m.css("transform","translate3d("+o+"px, "+n+"px, 0)")}});l.core.$slide.on("touchend.lg",function(){if(l.core.$outer.hasClass("lg-zoomed")){if(i){i=false;l.core.$outer.removeClass("lg-zoom-dragging");l.touchendZoom(j,h,g,k)}}})};b.prototype.zoomDrag=function(){var m=this;var k={};var i={};var h=false;var j=false;var g=false;var l=false;m.core.$slide.on("mousedown.lg.zoom",function(o){var n=m.core.$slide.eq(m.core.index).find(".lg-object");l=n.outerHeight()*n.attr("data-scale")>m.core.$outer.find(".lg").height();g=n.outerWidth()*n.attr("data-scale")>m.core.$outer.find(".lg").width();if(m.core.$outer.hasClass("lg-zoomed")){if(d(o.target).hasClass("lg-object")&&(g||l)){o.preventDefault();k={x:o.pageX,y:o.pageY};h=true;m.core.$outer.scrollLeft+=1;m.core.$outer.scrollLeft-=1;m.core.$outer.removeClass("lg-grab").addClass("lg-grabbing")}}});d(c).on("mousemove.lg.zoom",function(q){if(h){var n=m.core.$slide.eq(m.core.index).find(".lg-img-wrap");var p;var o;j=true;i={x:q.pageX,y:q.pageY};m.core.$outer.addClass("lg-zoom-dragging");if(l){o=(-Math.abs(n.attr("data-y")))+(i.y-k.y)}else{o=-Math.abs(n.attr("data-y"))}if(g){p=(-Math.abs(n.attr("data-x")))+(i.x-k.x)}else{p=-Math.abs(n.attr("data-x"))}n.css("transform","translate3d("+p+"px, "+o+"px, 0)")}});d(c).on("mouseup.lg.zoom",function(n){if(h){h=false;m.core.$outer.removeClass("lg-zoom-dragging");if(j&&((k.x!==i.x)||(k.y!==i.y))){i={x:n.pageX,y:n.pageY};m.touchendZoom(k,i,g,l)}j=false}m.core.$outer.removeClass("lg-grabbing").addClass("lg-grab")})};b.prototype.touchendZoom=function(q,j,k,i){var p=this;var l=p.core.$slide.eq(p.core.index).find(".lg-img-wrap");var n=p.core.$slide.eq(p.core.index).find(".lg-object");var s=(-Math.abs(l.attr("data-x")))+(j.x-q.x);var r=(-Math.abs(l.attr("data-y")))+(j.y-q.y);var m=(p.core.$outer.find(".lg").height()-n.outerHeight())/2;var g=Math.abs((n.outerHeight()*Math.abs(n.attr("data-scale")))-p.core.$outer.find(".lg").height()+m);var o=(p.core.$outer.find(".lg").width()-n.outerWidth())/2;var h=Math.abs((n.outerWidth()*Math.abs(n.attr("data-scale")))-p.core.$outer.find(".lg").width()+o);if(i){if(r<=-g){r=-g}else{if(r>=-m){r=-m}}}if(k){if(s<=-h){s=-h}else{if(s>=-o){s=-o}}}if(i){l.attr("data-y",Math.abs(r))}else{r=-Math.abs(l.attr("data-y"))}if(k){l.attr("data-x",Math.abs(s))}else{s=-Math.abs(l.attr("data-x"))}l.css("transform","translate3d("+s+"px, "+r+"px, 0)")};b.prototype.destroy=function(){var g=this;g.core.$el.off(".lg.zoom");d(c).off(".lg.zoom");g.core.$slide.off(".lg.zoom");g.core.$el.off(".lg.tm.zoom");g.resetZoom();clearTimeout(g.zoomabletimeout);g.zoomabletimeout=false};d.fn.lightGallery.modules.zoom=b})(jQuery,window,document);(function(d,c,a,f){var e={hash:true};var b=function(g){this.core=d(g).data("lightGallery");this.core.s=d.extend({},e,this.core.s);if(this.core.s.hash){this.oldHash=c.location.hash;this.init()}return this};b.prototype.init=function(){var h=this;var g;h.core.$el.on("onAfterSlide.lg.tm",function(k,j,i){c.location.hash="lg="+h.core.s.galleryId+"&slide="+i});d(c).on("hashchange",function(){g=c.location.hash;var i=parseInt(g.split("&slide=")[1],10);if((g.indexOf("lg="+h.core.s.galleryId)>-1)){h.core.slide(i)}else{if(h.core.lGalleryOn){h.core.destroy()}}})};b.prototype.destroy=function(){if(this.oldHash&&this.oldHash.indexOf("lg="+this.core.s.galleryId)<0){c.location.hash=this.oldHash}else{if(history.pushState){history.pushState("",a.title,c.location.pathname+c.location.search)}else{c.location.hash=""}}};d.fn.lightGallery.modules.hash=b})(jQuery,window,document);