!function(a){"use strict";a(document).ready(function(){function h(b){if(b){var c=a("#ut-portfolio-details-"+b).find(".active").prev(".ut-portfolio-detail"),d=a("#ut-portfolio-details-"+b).find(".active").next(".ut-portfolio-detail");c.length?a("#ut-portfolio-details-wrap-"+b).find(".prev-portfolio-details").animate({opacity:1},200,"easeInOutExpo",function(){a(this).css("visibility","visible")}):a("#ut-portfolio-details-wrap-"+b).find(".prev-portfolio-details").animate({opacity:0},200,"easeInOutExpo",function(){a(this).css("visibility","hidden")}),d.length?a("#ut-portfolio-details-wrap-"+b).find(".next-portfolio-details").animate({opacity:1},200,"easeInOutExpo",function(){a(this).css("visibility","visible")}):a("#ut-portfolio-details-wrap-"+b).find(".next-portfolio-details").animate({opacity:0},200,"easeInOutExpo",function(){a(this).css("visibility","hidden")}),i()}}function i(){a(".ut-portfolio-details-navigation").each(function(){var b=a(this),c=b.parent(),d=c.find(".active"),e=d.find(".ut-portfolio-media").height();e>0?(b.find(".next-portfolio-details").animate({top:e/2+45}),b.find(".prev-portfolio-details").animate({top:e/2+45})):(b.find(".next-portfolio-details").animate({top:c.height()/2+45}),b.find(".prev-portfolio-details").animate({top:c.height()/2+45}))})}function j(a){a&&setTimeout(function(){return a.parent().get(0).offsetHeight<a.parent().get(0).scrollHeight?void a.parent().height(a.parent().get(0).scrollHeight):void a.parent().height(a.height())},200)}function k(b){b&&a("#ut-portfolio-detail-"+b).find(".entry-content").fadeOut(400,function(){a(this).html(""),a(this).show()})}function l(b,c){c&&b.find("#ut-video-call-"+c).fadeOut(400,function(){a(this).html("")})}function m(a,b){b&&a.find("#portfolio-gallery-slider-"+b).hasClass("ut-sliderimages-loaded")&&a.find("#portfolio-gallery-slider-"+b).flexslider("destroy")}function n(b,c){if(b){var d=a("#ut-portfolio-detail-"+b),e=utPortfolio.ajaxurl;a.ajax({type:"POST",url:e,data:{action:"ut_get_portfolio_post_content",portfolio_id:b},success:function(a){return d.find(".entry-content").html(a).fitVids(),!1},complete:function(){c&&"function"==typeof c&&c()}})}}function o(b,c){if(b){var d=a("#ut-portfolio-detail-"+b),e=utPortfolio.ajaxurl;a.ajax({type:"POST",url:e,data:{action:"ut_get_portfolio_post",portfolio_id:b},success:function(a){return d.find(".ut-video-call").show().html(a).fitVids(),!1},complete:function(){c&&"function"==typeof c&&c()}})}}function p(a,b,c){if(a){var d=b.find("#ut-portfolio-detail-"+a).find(".ut-load-me"),e=d.data("original");d.attr("src")?c&&"function"==typeof c&&c():d.attr("src",e).one("load",function(){c&&"function"==typeof c&&c()})}}function q(b,c,d){if(b){var e=c.find("#portfolio-gallery-slider-"+b);e.hasClass("ut-sliderimages-loaded")&&(e.flexslider({animation:"fade",controlNav:!1,animationLoop:!0,slideshow:!1,smoothHeight:!0,startAt:0,after:function(){j(c),i()}}),d&&"function"==typeof d&&d());var f=e.find(".ut-load-me"),g=f.length;g?f.each(function(){var b=a(this),f=b.data("original");b.attr("src",f).removeClass("ut-load-me").one("load",function(){--g||(e.flexslider({animation:"fade",controlNav:!1,animationLoop:!0,slideshow:!1,smoothHeight:!0,startAt:0,after:function(){j(c),i()}}).addClass("ut-sliderimages-loaded"),d&&"function"==typeof d&&d())})}):d&&"function"==typeof d&&d()}}var b=a("img.portfolio-lazy");if(b.addClass("ut-animate-element animated").css("visibility","hidden").lazyload({event:"sporty",load:function(){a(this).css("visibility","visible").show().addClass("fadeIn")},failure_limit:Math.max(b.length,0)}),a(window).bind("load",function(){setTimeout(function(){b.trigger("sporty")},200)}),a().prettyPhoto){var c=1024,d=768,e=!0;a(window).width()<1024&&(c=a(window).width(),d=a(window).height(),e=!0),a('a[data-rel^="ut-prettyphoto"]').prettyPhoto({social_tools:!1,deeplinking:!1,default_width:c,default_height:d,allow_resize:e,markup:'<div class="pp_pic_holder">                             <div class="pp_top">                                 <div class="pp_left"></div>                                 <div class="pp_middle"></div>                                 <div class="pp_right"></div>                             </div>                             <div class="pp_content_container">                                 <div class="pp_left">                                 <div class="pp_right">                                     <div class="pp_content">                                         <div class="pp_loaderIcon"></div>                                         <div class="pp_fade">                                             <a href="#" class="pp_expand" title="Expand the image">Expand</a>                                             <div class="pp_hoverContainer">                                                 <a class="pp_next" href="#">next</a>                                                 <a class="pp_previous" href="#">previous</a>                                             </div>                                             <div id="pp_full_res"></div>                                             <div class="pp_details">                                                 <div class="pp_nav">                                                     <a href="#" class="pp_arrow_previous">Previous</a>                                                     <p class="currentTextHolder">0/0</p>                                                     <a href="#" class="pp_arrow_next">Next</a>                                                 </div>                                                 <div class="ppt">&nbsp;</div>                                                 <p class="pp_description"></p>                                                 {pp_social}                                                 <a class="pp_close" href="#">Close</a>                                             </div>                                         </div>                                     </div>                                 </div>                                 </div>                             </div>                             <div class="pp_bottom">                                 <div class="pp_left"></div>                                 <div class="pp_middle"></div>                                 <div class="pp_right"></div>                             </div>                         </div>                         <div class="pp_overlay"></div>'})}a().lightGallery&&(a(".ut-portfolio-wrap").not(".ut-portfolio-packery-wrap").lightGallery({selector:'a[data-rel^="ut-lightgallery"]',hash:!1}),a(".ut-portfolio-packery-wrap").lightGallery({selector:'a[data-rel^="ut-lightgallery"]',exThumbImage:"data-exThumbImage",hash:!1})),a(".ut-hover").each(function(){var b=a(this).closest(".ut-portfolio-wrap").data("textcolor");a(this).find(".ut-hover-layer").css({color:b}),a(this).find(".ut-hover-layer").find(".portfolio-title").attr("style","color: "+b+" !important")}),a(".ut-hover").on("mouseenter touchstart",function(){var b=a(this).closest(".ut-portfolio-wrap").data("hovercolor"),c=a(this).closest(".ut-portfolio-wrap").data("opacity");a(this).find(".ut-hover-layer").css("background","rgba("+b+","+c+")"),a(this).find(".ut-hover-layer").css("opacity",1)}),a(".ut-hover").on("mouseleave touchend",function(){a(this).find(".ut-hover-layer").css("opacity",0)});var f=!1;a(window).utresize(function(){i()}),a(document).on("click",".ut-portfolio-link",function(b){if(f)return!1;f=!0;var c=a(this).data("post"),d=a(this).data("wrap"),e=a("#ut-loader-"+d),g=a("#ut-portfolio-details-wrap-"+d),i=a("#ut-portfolio-details-"+d),j=g.find("#ut-portfolio-detail-"+c),r=i.find(".active").data("post"),s=i.find(".active").data("format"),t=g.closest("section").data("width"),u=j.data("format"),v=a("#header-section").outerHeight();e.stop(!0).fadeIn(400,function(){a.scrollTo(g,650,{easing:"easeInOutExpo",offset:-v-40,axis:"y",onAfter:function(){"video"===s&&l(i,r),"gallery"===s&&m(i,r),"fullwidth"===t&&i.addClass("grid-container"),c!==r&&k(r),i.find(".ut-portfolio-detail").removeClass("active").hide(),j.addClass("active").css("visibility","hidden").show().slideDown(800,"easeInOutExpo",function(){"gallery"===u?q(c,i,function(){n(c,function(){e.fadeOut(400,function(){g.addClass("show overflow-visible"),g.find(".ut-portfolio-details-navigation").addClass("show").data("single",c),j.css("visibility","visible").animate({opacity:1},400,"easeInOutExpo",function(){h(d),setTimeout(function(){g.height(i.outerHeight()+50)},200),a(window).trigger("scroll"),f=!1})})})}):"video"===u?o(c,function(){n(c,function(){e.fadeOut(400,function(){g.addClass("show overflow-visible"),g.find(".ut-portfolio-details-navigation").addClass("show").data("single",c),j.css("visibility","visible").animate({opacity:1},400,"easeInOutExpo",function(){h(d),setTimeout(function(){g.height(i.outerHeight()+50)},200),a(window).trigger("scroll"),f=!1})})})}):p(c,i,function(){n(c,function(){e.fadeOut(400,function(){g.addClass("show overflow-visible"),g.find(".ut-portfolio-details-navigation").addClass("show").data("single",c),j.css("visibility","visible").animate({opacity:1},400,"easeInOutExpo",function(){h(d),setTimeout(function(){g.height(i.outerHeight()+50)},200),a(window).trigger("scroll"),f=!1})})})})})}})}),b.preventDefault()}),a(document).on("click",".next-portfolio-details",function(b){if(b.preventDefault(),f)return!1;f=!0;var c=a(this).data("wrap"),d=a("#ut-portfolio-details-wrap-"+c),e=d.closest("section").data("width"),g=a("#ut-portfolio-details-"+c),i=a("#ut-loader-"+c),j=g.find(".active").next().data("post"),r=g.find(".active").next().data("format"),s=g.find(".active").data("post"),t=g.find(".active").data("format"),u=g.find("#ut-portfolio-detail-"+j);"video"===t&&l(g,s),"gallery"===t&&m(g,s),"centered"!==e&&u.addClass("grid-container"),k(s),g.find("#ut-portfolio-detail-"+s).removeClass("active").fadeOut(function(){i.stop(!0).fadeIn(400,function(){u.addClass("active").css("visibility","hidden").slideDown(800,"easeInOutExpo",function(){"gallery"===r?q(j,g,function(){n(j,function(){i.fadeOut(400,function(){g.find(".ut-portfolio-details-navigation").data("single",j),u.css("visibility","visible").animate({opacity:1},400,"easeInOutExpo",function(){h(c),setTimeout(function(){d.height(g.outerHeight()+50)},200),f=!1})})})}):"video"===r?o(j,function(){n(j,function(){i.fadeOut(400,function(){g.find(".ut-portfolio-details-navigation").data("single",j),u.css("visibility","visible").animate({opacity:1},400,"easeInOutExpo",function(){h(c),setTimeout(function(){d.height(g.outerHeight()+50)},200),f=!1})})})}):p(j,g,function(){n(j,function(){i.fadeOut(400,function(){g.find(".ut-portfolio-details-navigation").data("single",j),u.css("visibility","visible").animate({opacity:1},400,"easeInOutExpo",function(){h(c),setTimeout(function(){d.height(g.outerHeight()+50)},200),f=!1})})})})})})})}),a(document).on("click",".prev-portfolio-details",function(b){if(b.preventDefault(),!f){f=!0;var c=a(this).data("wrap"),d=a("#ut-portfolio-details-wrap-"+c),e=d.closest("section").data("width"),g=a("#ut-portfolio-details-"+c),i=a("#ut-loader-"+c),j=g.find(".active").prev().data("post"),r=g.find(".active").prev().data("format"),s=g.find(".active").data("post"),t=g.find(".active").data("format"),u=g.find("#ut-portfolio-detail-"+j);"video"===t&&l(g,s),"gallery"===t&&m(g,s),"centered"!==e&&u.addClass("grid-container"),k(s),g.find("#ut-portfolio-detail-"+s).removeClass("active").fadeOut(function(){i.stop(!0).fadeIn(400,function(){u.addClass("active").css("visibility","hidden").slideDown(800,"easeInOutExpo",function(){"gallery"===r?q(j,g,function(){n(j,function(){i.fadeOut(400,function(){g.find(".ut-portfolio-details-navigation").data("single",j),u.css("visibility","visible").animate({opacity:1},400,"easeInOutExpo",function(){h(c),setTimeout(function(){d.height(g.outerHeight()+50)},200),f=!1})})})}):"video"===r?o(j,function(){n(j,function(){i.fadeOut(400,function(){g.find(".ut-portfolio-details-navigation").data("single",j),u.css("visibility","visible").animate({opacity:1},400,"easeInOutExpo",function(){h(c),setTimeout(function(){d.height(g.outerHeight()+50)},200),f=!1})})})}):p(j,g,function(){n(j,function(){i.fadeOut(400,function(){g.find(".ut-portfolio-details-navigation").data("single",j),u.css("visibility","visible").animate({opacity:1},400,"easeInOutExpo",function(){h(c),setTimeout(function(){d.height(g.outerHeight()+50)},200),f=!1})})})})})})})}}),a(document).on("click",".close-portfolio-details",function(b){if(b.preventDefault(),f)return!1;f=!0;var c=a(this).data("wrap"),d=a(this).parent().data("single"),e=a("#ut-portfolio-details-wrap-"+c),h=(a(this).data("post"),a("#ut-portfolio-detail-"+d).data("format"));e.find(".ut-portfolio-details-navigation").removeClass("show"),e.find("#ut-portfolio-detail-"+d).removeClass("active").animate({opacity:0},200,"easeInOutExpo",function(){a("#ut-portfolio-details-wrap-"+c).removeClass("show").removeClass("overflow-visible"),"video"===h&&l(e,d),"gallery"===h&&m(e,d),k(d),f=!1})})})}(jQuery);